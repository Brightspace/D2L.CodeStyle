os: Visual Studio 2017

version: 0.1.0.{build}
pull_requests:
  do_not_increment_build_number: true
skip_tags: true
clone_depth: 5
nuget:
  project_feed: true
before_build:
  - dotnet restore
  - nuget restore
build_script:
  - dotnet --info
  - dotnet build
  - dotnet test tests\D2L.CodeStyle.Analyzers.Test
  - dotnet test tests\D2L.CodeStyle.TestAnalyzers.Test
  - dotnet pack src\D2L.CodeStyle.Annotations
  - dotnet pack src\D2L.CodeStyle.Analyzers
  - dotnet pack src\D2L.CodeStyle.TestAnalyzers
build:
  publish_nuget: true
  parallel: true
  verbosity: minimal
configuration:
- Debug
- Release
